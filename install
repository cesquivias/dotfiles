#!/bin/sh

DIR="$( cd "$( dirname "$0" )" && pwd )"

for f in .hgrc .bash_aliases .bashrc .bash_profile .bash_functions .Xdefaults .screenrc .gitconfig
do
    ln -s "$DIR/$f" ~
done

PLATFORM=`uname -o 2> /dev/null || uname -s`
if [ $PLATFORM = "Cygwin" ]; then
    ln -s "$DIR/.startxwinrc" ~

    # For ssh
    ln -s ~ /home/$(basename $HOME)
    mkdir -p ~/.ssh/keys
    touch ~/.ssh/config
    chown -R $USER:Users ~/.ssh
    chmod -R 600 ~/.ssh
fi

# Install fish config
FISH_FUNC_DIR=~/.config/fish/functions
mkdir -p $FISH_FUNC_DIR

cp fish_functions/*.fish $FISH_FUNC_DIR
